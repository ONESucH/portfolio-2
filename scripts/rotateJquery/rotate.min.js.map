{"version":3,"sources":["scripts/rotateJquery/rotate.min.js"],"names":["$","supportedCSS","supportedCSSOrigin","styles","document","getElementsByTagName","style","toCheck","split","a","length","replace","eval","jQuery","fn","extend","rotate","t","this","angle","i","e","s","get","Wilq32","PhotoEffect","_handleRotation","h","r","_rootObj","push","getRotateAngle","_angle","stopRotate","clearTimeout","_timer","window","_img","_eventObj","_onLoadDelegate","createElement","display","parentNode","insertBefore","complete","_Loader","bind","prototype","_setupParameters","_parameters","animateTo","step","easing","_defaultEasing","duration","callback","_emptyFunction","center","_rotationCenterX","parseInt","_imgWidth","_aspectW","_rotationCenterY","_imgHeight","_aspectH","_BindEvents","_rotate","_animateStart","hasOwnProperty","unbind","IE","width","height","removeChild","_vimage","createVMLNode","src","position","top","left","_container","setAttribute","appendChild","getAttribute","className","shift","naturalWidth","naturalHeight","Math","sqrt","_width","_height","offsetWidth","offsetHeight","_canvas","_cnv","getContext","_animateStartTime","Date","_animateStartAngle","_animate","animatedGif","setTimeout","call","PI","rotation","join","translate","scale","drawImage","createStyleSheet","addRule","namespaces","rvml","add"],"mappings":"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","file":"rotate.min.js","sourcesContent":["!function($){for(var supportedCSS,supportedCSSOrigin,styles=document.getElementsByTagName(\"head\")[0].style,toCheck=\"transformProperty WebkitTransform OTransform msTransform MozTransform\".split(\" \"),a=0;a<toCheck.length;a++)void 0!==styles[toCheck[a]]&&(supportedCSS=toCheck[a]);supportedCSS&&(supportedCSSOrigin=supportedCSS.replace(/[tT]ransform/,\"TransformOrigin\"),\"T\"==supportedCSSOrigin[0]&&(supportedCSSOrigin[0]=\"t\")),eval('IE = \"v\"==\"\\v\"'),jQuery.fn.extend({rotate:function(t){if(0!==this.length&&\"undefined\"!=typeof t){\"number\"==typeof t&&(t={angle:t});for(var i=[],e=0,s=this.length;e<s;e++){var a=this.get(e);if(a.Wilq32&&a.Wilq32.PhotoEffect)a.Wilq32.PhotoEffect._handleRotation(t);else{var h=$.extend(!0,{},t),r=new Wilq32.PhotoEffect(a,h)._rootObj;i.push($(r))}}return i}},getRotateAngle:function(){for(var t=[],i=0,e=this.length;i<e;i++){var s=this.get(i);s.Wilq32&&s.Wilq32.PhotoEffect&&(t[i]=s.Wilq32.PhotoEffect._angle)}return t},stopRotate:function(){for(var t=0,i=this.length;t<i;t++){var e=this.get(t);e.Wilq32&&e.Wilq32.PhotoEffect&&clearTimeout(e.Wilq32.PhotoEffect._timer)}}}),Wilq32=window.Wilq32||{},Wilq32.PhotoEffect=function(){return supportedCSS?function(t,i){t.Wilq32={PhotoEffect:this},this._img=this._rootObj=this._eventObj=t,this._handleRotation(i)}:function(t,i){if(this._img=t,this._onLoadDelegate=[i],this._rootObj=document.createElement(\"span\"),this._rootObj.style.display=\"inline-block\",this._rootObj.Wilq32={PhotoEffect:this},t.parentNode.insertBefore(this._rootObj,t),t.complete)this._Loader();else{var e=this;jQuery(this._img).bind(\"load\",function(){e._Loader()})}}}(),Wilq32.PhotoEffect.prototype={_setupParameters:function(t){this._parameters=this._parameters||{},\"number\"!=typeof this._angle&&(this._angle=0),\"number\"==typeof t.angle&&(this._angle=t.angle),this._parameters.animateTo=\"number\"==typeof t.animateTo?t.animateTo:this._angle,this._parameters.step=t.step||this._parameters.step||null,this._parameters.easing=t.easing||this._parameters.easing||this._defaultEasing,this._parameters.duration=\"duration\"in t?t.duration:t.duration||this._parameters.duration||1e3,this._parameters.callback=t.callback||this._parameters.callback||this._emptyFunction,this._parameters.center=t.center||this._parameters.center||[\"50%\",\"50%\"],\"string\"==typeof this._parameters.center[0]?this._rotationCenterX=parseInt(this._parameters.center[0],10)/100*this._imgWidth*this._aspectW:this._rotationCenterX=this._parameters.center[0],\"string\"==typeof this._parameters.center[1]?this._rotationCenterY=parseInt(this._parameters.center[1],10)/100*this._imgHeight*this._aspectH:this._rotationCenterY=this._parameters.center[1],t.bind&&t.bind!=this._parameters.bind&&this._BindEvents(t.bind)},_emptyFunction:function(){},_defaultEasing:function(t,i,e,s,a){return-s*((i=i/a-1)*i*i*i-1)+e},_handleRotation:function(t,i){return supportedCSS||this._img.complete||i?(this._setupParameters(t),void(this._angle==this._parameters.animateTo?this._rotate(this._angle):this._animateStart())):void this._onLoadDelegate.push(t)},_BindEvents:function(t){if(t&&this._eventObj){if(this._parameters.bind){var i=this._parameters.bind;for(var e in i)i.hasOwnProperty(e)&&jQuery(this._eventObj).unbind(e,i[e])}this._parameters.bind=t;for(var e in t)t.hasOwnProperty(e)&&jQuery(this._eventObj).bind(e,t[e])}},_Loader:function(){return IE?function(){var t=this._img.width,i=this._img.height;this._imgWidth=t,this._imgHeight=i,this._img.parentNode.removeChild(this._img),this._vimage=this.createVMLNode(\"image\"),this._vimage.src=this._img.src,this._vimage.style.height=i+\"px\",this._vimage.style.width=t+\"px\",this._vimage.style.position=\"absolute\",this._vimage.style.top=\"0px\",this._vimage.style.left=\"0px\",this._aspectW=this._aspectH=1,this._container=this.createVMLNode(\"group\"),this._container.style.width=t,this._container.style.height=i,this._container.style.position=\"absolute\",this._container.style.top=\"0px\",this._container.style.left=\"0px\",this._container.setAttribute(\"coordsize\",t-1+\",\"+(i-1)),this._container.appendChild(this._vimage),this._rootObj.appendChild(this._container),this._rootObj.style.position=\"relative\",this._rootObj.style.width=t+\"px\",this._rootObj.style.height=i+\"px\",this._rootObj.setAttribute(\"id\",this._img.getAttribute(\"id\")),this._rootObj.className=this._img.className,this._eventObj=this._rootObj;for(var e;e=this._onLoadDelegate.shift();)this._handleRotation(e,!0)}:function(){this._rootObj.setAttribute(\"id\",this._img.getAttribute(\"id\")),this._rootObj.className=this._img.className,this._imgWidth=this._img.naturalWidth,this._imgHeight=this._img.naturalHeight;var t=Math.sqrt(this._imgHeight*this._imgHeight+this._imgWidth*this._imgWidth);this._width=3*t,this._height=3*t,this._aspectW=this._img.offsetWidth/this._img.naturalWidth,this._aspectH=this._img.offsetHeight/this._img.naturalHeight,this._img.parentNode.removeChild(this._img),this._canvas=document.createElement(\"canvas\"),this._canvas.setAttribute(\"width\",this._width),this._canvas.style.position=\"relative\",this._canvas.style.left=-this._img.height*this._aspectW+\"px\",this._canvas.style.top=-this._img.width*this._aspectH+\"px\",this._canvas.Wilq32=this._rootObj.Wilq32,this._rootObj.appendChild(this._canvas),this._rootObj.style.width=this._img.width*this._aspectW+\"px\",this._rootObj.style.height=this._img.height*this._aspectH+\"px\",this._eventObj=this._canvas,this._cnv=this._canvas.getContext(\"2d\");for(var i;i=this._onLoadDelegate.shift();)this._handleRotation(i,!0)}}(),_animateStart:function(){this._timer&&clearTimeout(this._timer),this._animateStartTime=+new Date,this._animateStartAngle=this._angle,this._animate()},_animate:function(){var t=+new Date,i=t-this._animateStartTime>this._parameters.duration;if(i&&!this._parameters.animatedGif)clearTimeout(this._timer);else{if(this._canvas||this._vimage||this._img){var e=this._parameters.easing(0,t-this._animateStartTime,this._animateStartAngle,this._parameters.animateTo-this._animateStartAngle,this._parameters.duration);this._rotate(~~(10*e)/10)}this._parameters.step&&this._parameters.step(this._angle);var s=this;this._timer=setTimeout(function(){s._animate.call(s)},10)}this._parameters.callback&&i&&(this._angle=this._parameters.animateTo,this._rotate(this._angle),this._parameters.callback.call(this._rootObj))},_rotate:function(){var t=Math.PI/180;return IE?function(t){this._angle=t,this._container.style.rotation=t%360+\"deg\",this._vimage.style.top=-(this._rotationCenterY-this._imgHeight/2)+\"px\",this._vimage.style.left=-(this._rotationCenterX-this._imgWidth/2)+\"px\",this._container.style.top=this._rotationCenterY-this._imgHeight/2+\"px\",this._container.style.left=this._rotationCenterX-this._imgWidth/2+\"px\"}:supportedCSS?function(t){this._angle=t,this._img.style[supportedCSS]=\"rotate(\"+t%360+\"deg)\",this._img.style[supportedCSSOrigin]=this._parameters.center.join(\" \")}:function(i){this._angle=i,i=i%360*t,this._canvas.width=this._width,this._canvas.height=this._height,this._cnv.translate(this._imgWidth*this._aspectW,this._imgHeight*this._aspectH),this._cnv.translate(this._rotationCenterX,this._rotationCenterY),this._cnv.rotate(i),this._cnv.translate(-this._rotationCenterX,-this._rotationCenterY),this._cnv.scale(this._aspectW,this._aspectH),this._cnv.drawImage(this._img,0,0)}}()},IE&&(Wilq32.PhotoEffect.prototype.createVMLNode=function(){document.createStyleSheet().addRule(\".rvml\",\"behavior:url(#default#VML)\");try{return!document.namespaces.rvml&&document.namespaces.add(\"rvml\",\"urn:schemas-microsoft-com:vml\"),function(t){return document.createElement(\"<rvml:\"+t+' class=\"rvml\">')}}catch(t){return function(t){return document.createElement(\"<\"+t+' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"rvml\">')}}}())}(jQuery);\n//# sourceMappingURL=rotate.min.js.map\n"]}